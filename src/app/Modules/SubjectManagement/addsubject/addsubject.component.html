<section class="form-section">
  <h2 style="margin-bottom: 1.5rem; font-size: 1.8rem; color: #0056b3;">Subject Management</h2>

  <form [formGroup]="subjectManagementForm" (ngSubmit)="submitsubjects()">
      <div class="row">
          <div class="form-group">
              <label for="section">Section Name:</label>
              <input type="text" id="section" formControlName="section_name" required>
          </div>

          <div class="form-group">
              <label for="gradelevel">Grade Level:</label>
              <select id="gradelevel" formControlName="grade_level" required (change)="onGradeChange()">
                  <option value="">Select a Grade Level</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
          </div>

          <div class="form-group" *ngIf="isStrandVisible">
              <label for="strand">Strand:</label>
              <select id="strand" formControlName="strand">
                  <option value="">Select a strand</option>
                  <option value="STEM">STEM</option>
                  <option value="HUMMS">HUMMS</option>
                  <option value="ABM">ABM</option>
              </select>
          </div>

          <div class="container">
              <div class="form-group">
                  <label for="subjects">Subject List: <button type="button" class="btn btn-success ms-1" (click)="openDialog()">+</button>
                  </label>
                  <!-- Display added subjects -->
                  <ul>
                    <li *ngFor="let subject of subjectsList; let i = index" style="display: flex; align-items: center; position: relative;">
                      <i *ngIf="subjectsList.length > 1"
                         (click)="removeSubject(i)"
                         style="color: red; font-size: 15px;"
                         class="bi bi-trash me-2"></i>
                      <span style="flex-grow: 1;">{{ subject }}</span>
                    </li>
                  </ul>
                  <!-- Button to open dialog -->
              </div>
          </div>
      </div>

      <button class="button-submit mt-2" type="submit" [disabled]="subjectManagementForm.invalid || subjectsList.length === 0">Submit</button>
  </form>
</section>