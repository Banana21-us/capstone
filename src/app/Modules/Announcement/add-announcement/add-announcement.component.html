<section class="announcement-form">
    <h2>Post a New Announcement</h2>
    <form [formGroup]="announcementform" (ngSubmit)="postannouncement()" id="announcementForm">
        
        <div class="container" style="display: none;">
            <div class="form-group">
                <label for="adminid">adminid:</label>
                <input type="number" id="adminid" formControlName="admin_id" name="adminid" required>
            </div>
            <div class="form-group">
                <label for="classid">classid:</label>
                <input type="number" id="classid" formControlName="class_id" name="classid" required>
            </div>
        </div>

        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" id="title" formControlName="title" name="title" required>
            @if (announcementform.get('title')?.invalid && announcementform.get('title')?.touched) {
                <mat-error class="text-danger">Title Field is required.</mat-error>
            }
        </div>
        <div class="form-group">
            <label for="announcement">Message:</label>
            <textarea id="announcement" name="announcement" formControlName="announcement" rows="13" required></textarea>
            @if (announcementform.get('announcement')?.invalid && announcementform.get('announcement')?.touched) {
                <mat-error class="text-danger">Announcement Field is required.</mat-error>
            }
        </div>
        <!-- <button type="submit">Post</button> -->
        <button type="submit" [disabled]="isLoading">
            <span *ngIf="!isLoading">Post</span>
            <span *ngIf="isLoading">Processing...</span>
        </button>
    </form>
</section>